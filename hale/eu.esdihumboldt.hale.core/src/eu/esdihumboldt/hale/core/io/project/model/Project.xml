<?xml version="1.0"?>
<!DOCTYPE mapping PUBLIC "-//EXOLAB/Castor Mapping DTD Version 1.0//EN"
	"http://castor.org/mapping.dtd">
<mapping>
	<class name="eu.esdihumboldt.hale.core.io.project.model.Project" auto-complete="true">
		<map-to xml="hale-project" />
	
		<field name="name" type="string" required="true">
			<bind-xml name="name" node="element" />
		</field>
		
		<field name="author" type="string" required="false">
			<bind-xml name="author" node="element" />
		</field>
		
		<field name="description" type="string" required="false">
			<bind-xml name="description" node="element">
				<property>
					<name>xml:space</name>
					<value>preserve</value>
				</property>
			</bind-xml>
		</field>
		
		<field name="haleVersion" type="string" handler="eu.esdihumboldt.hale.core.io.project.model.internal.VersionFieldHandler">
			<bind-xml name="version" node="attribute" />
		</field>
		
		<field name="created" type="date" required="false">
			<bind-xml name="created" node="element" />
		</field>
		
		<field name="modified" type="date" required="false">
			<bind-xml name="modified" node="element" />
		</field>
		
		<field name="saveConfiguration" type="eu.esdihumboldt.hale.core.io.project.model.IOConfiguration" required="false">
			<bind-xml name="save-config" node="element" />
		</field>
		
		<field name="configurations" 
			type="eu.esdihumboldt.hale.core.io.project.model.IOConfiguration" collection="arraylist" required="false">

			<bind-xml name="io-config" node="element" />
		</field>
		
		<field name="properties" collection="map" required="false">
			<bind-xml name="property">
				<class name="org.exolab.castor.mapping.MapItem">
					<field name="key" type="string">
						<bind-xml name="name" node="attribute" />
					</field>
					<field name="value"
						type="string">
						<bind-xml node="text" />
					</field>
				</class>
			</bind-xml>
		</field>
		
		<field name="files" collection="map" required="false">
			<bind-xml name="file">
				<class name="org.exolab.castor.mapping.MapItem">
					<field name="key" type="string">
						<bind-xml name="name" node="attribute" />
					</field>
					<field name="value"
						type="string" handler="eu.esdihumboldt.hale.core.io.project.model.internal.OsgiClassFieldHandler">
						<bind-xml name="class" node="attribute" />
					</field>
				</class>
			</bind-xml>
		</field>
	</class>
	<class name="eu.esdihumboldt.hale.core.io.project.model.IOConfiguration" auto-complete="true">
	
		<field name="advisorId" type="string" required="true">
			<bind-xml name="advisor-id" node="attribute" />
		</field>
		
		<field name="providerId" type="string" required="true">
			<bind-xml name="provider-id" node="attribute" />
		</field>
		
		<field name="providerConfiguration" collection="map" required="false">
			<bind-xml name="setting">
				<class name="org.exolab.castor.mapping.MapItem">
					<field name="key" type="string">
						<bind-xml name="name" node="attribute" />
					</field>
					<field name="value"
						type="string">
						<bind-xml node="text" />
					</field>
				</class>
			</bind-xml>
		</field>
		
		<field name="dependencies" 
			type="string" collection="set" required="false">

			<bind-xml name="depends-on" node="element" />
		</field>
		
		<field name="providerType" type="string" handler="eu.esdihumboldt.hale.core.io.project.model.internal.OsgiClassFieldHandler" required="true">
			<bind-xml name="provider-type" node="attribute" />
		</field>
	</class>
</mapping>
