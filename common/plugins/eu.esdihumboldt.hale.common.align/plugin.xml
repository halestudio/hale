<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension-point id="eu.esdihumboldt.hale.align.transformation" name="Transformation functions and execution" schema="schema/eu.esdihumboldt.hale.align.transformation.exsd"/>
   <extension-point id="eu.esdihumboldt.hale.align.function" name="Transformation function definitions" schema="schema/eu.esdihumboldt.hale.align.function.exsd"/>
   <extension-point id="eu.esdihumboldt.hale.align.engine" name="Transformation engine definitions" schema="schema/eu.esdihumboldt.hale.align.engine.exsd"/>
   <extension-point id="eu.esdihumboldt.hale.align.category" name="Transformation function categories" schema="schema/eu.esdihumboldt.hale.align.category.exsd"/>
   <extension
         point="eu.esdihumboldt.hale.align.category">
      <category
            id="eu.esdihumboldt.hale.align.general"
            name="General">
      </category>
   </extension>
   <extension
         point="eu.esdihumboldt.hale.align.function">
      <typeFunction
            category="eu.esdihumboldt.hale.align.general"
            description="Maps one source type to one target type"
            identifier="eu.esdihumboldt.hale.align.retype"
            name="Retype">
         <sourceTypes>
            <type
                  description="The source type to be mapped to a type in the target schema"
                  maxOccurrence="1"
                  minOccurrence="1">
            </type>
         </sourceTypes>
         <targetTypes>
            <type
                  description="The target type that corresponds to the source type"
                  maxOccurrence="1"
                  minOccurrence="1">
            </type>
         </targetTypes>
      </typeFunction>
      <propertyFunction
            category="eu.esdihumboldt.hale.align.general"
            description="Copy a source property to a target property"
            identifier="eu.esdihumboldt.hale.align.rename"
            name="Rename">
         <sourceProperties>
            <property
                  description="The source property to be mapped to a property in the target schema"
                  maxOccurrence="1"
                  minOccurrence="1">
            </property>
         </sourceProperties>
         <targetProperties>
            <property
                  description="The target property that corresponds to the source property"
                  maxOccurrence="1"
                  minOccurrence="1">
            </property>
         </targetProperties>
      </propertyFunction>
      <propertyFunction
            category="eu.esdihumboldt.hale.align.general"
            description="Assigns a value to a target property"
            identifier="eu.esdihumboldt.hale.align.assign"
            name="Assign">
         <targetProperties>
            <property
                  description="The property a value shall be assigned to"
                  maxOccurrence="1"
                  minOccurrence="1">
            </property>
         </targetProperties>
         <functionParameter
               label="Value"
               maxOccurrence="1"
               minOccurrence="1"
               name="value">
         </functionParameter>
      </propertyFunction>
      <propertyFunction
            category="eu.esdihumboldt.hale.align.general"
            description="Map classifications"
            identifier="eu.esdihumboldt.hale.align.classification"
            name="Classification">
         <sourceProperties>
            <property
                  description="The source property to be mapped to a property in the target schema"
                  maxOccurrence="1"
                  minOccurrence="1">
            </property>
         </sourceProperties>
         <targetProperties>
            <property
                  description="The target property that corresponds to the source property"
                  maxOccurrence="1"
                  minOccurrence="1">
            </property>
         </targetProperties>
         <functionParameter
               maxOccurrence="*"
               minOccurrence="1"
               name="classificationMapping">
         </functionParameter>
      </propertyFunction>
   </extension>
   <extension
         point="eu.esdihumboldt.hale.align.engine">
      <engine
            class="eu.esdihumboldt.hale.common.align.transformation.engine.internal.NullTransformationEngine"
            description="Transformation functions based complemtely on Java without need of a engine for execution"
            id="eu.esdihumboldt.align.java"
            name="Java transformation functions">
      </engine>
   </extension>
   <extension
         point="eu.esdihumboldt.hale.io.action">
      <action
            id="eu.esdihumboldt.hale.io.align.read"
            name="Load alignment"
            type="eu.esdihumboldt.hale.common.align.io.AlignmentReader">
         <dependsOn
               action="eu.esdihumboldt.hale.io.schema.read.source">
         </dependsOn>
         <dependsOn
               action="eu.esdihumboldt.hale.io.schema.read.target">
         </dependsOn>
      </action>
      <action
            id="eu.esdihumboldt.hale.io.align.write"
            name="Save alignment"
            type="eu.esdihumboldt.hale.common.align.io.AlignmentWriter">
      </action>
   </extension>
   <extension
         point="org.eclipse.core.contenttype.contentTypes">
      <content-type
            base-type="org.eclipse.core.runtime.xml"
            file-extensions="align,xml"
            id="eu.esdihumboldt.hale.io.align.default"
            name="HALE alignment"
            priority="normal">
         <describer
               class="org.eclipse.core.runtime.content.XMLRootElementContentDescriber2">
            <parameter
                  name="element"
                  value="hale-alignment">
            </parameter>
         </describer>
      </content-type>
   </extension>
   <extension
         point="eu.esdihumboldt.hale.io.provider">
      <provider
            class="eu.esdihumboldt.hale.common.align.io.impl.DefaultAlignmentReader"
            id="eu.esdihumboldt.hale.io.align.default.reader"
            name="HALE alignment">
         <contentType
               ref="eu.esdihumboldt.hale.io.align.default">
         </contentType>
      </provider>
      <provider
            class="eu.esdihumboldt.hale.common.align.io.impl.DefaultAlignmentWriter"
            id="eu.esdihumboldt.hale.io.align.default.writer"
            name="HALE alignment">
         <contentType
               ref="eu.esdihumboldt.hale.io.align.default">
         </contentType>
      </provider>
   </extension>
   <extension
         point="eu.esdihumboldt.hale.io.project">
      <action-file
            name="alignment.xml">
         <load
               action="eu.esdihumboldt.hale.io.align.read">
         </load>
         <save
               action="eu.esdihumboldt.hale.io.align.write"
               provider="eu.esdihumboldt.hale.io.align.default.writer">
         </save>
      </action-file>
   </extension>

</plugin>
