// Fraunhofer Institute for Computer Graphics Research (IGD)
// Department Graphical Information Systems (GIS)
//
// Copyright (c) 2004-2013 Fraunhofer IGD. All rights reserved.
//
// This source code is property of the Fraunhofer IGD and underlies
// copyright restrictions. It may only be used with explicit
// permission from the respective owner.

/**
 * Runs the database tests. This method does not fail the build if one
 * database test fails.
 */
task runDatabaseTests(dependsOn: buildUpdateSite) << {
    new UnitTestRunner(project).executeUnitTests('*.dbtest_*.jar')
}

/**
 * Runs the integration test stage. The integration test stage includes
 * building all sources, creating binary artifacts (in this case an update
 * site containing all exported bundles) and running tests on the
 * database and web services.
 */
task integrationTestStage(dependsOn: runDatabaseTests)
