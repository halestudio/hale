<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Defining contexts on schema elements</title>
</head>
<body>
	<h1>Defining contexts on schema elements</h1>
	<p>
		To define a context on a schema element, use the context menu in the <a
			href="../../views/schema_explorer.html">Schema Explorer</a>. If the
		definition of a context is possible on a schema element, the menu will
		offer you a respective command. Also, on already defined contexts, you
		will be offered the possibility to remove it, though if there is an
		associated mapping the command will be grayed out.
	</p>
	<p>
		See the <a href="../../reference/schema_elements.html">Schema
			elements reference</a> on how each context type is displayed in the <a
			href="../../views/schema_explorer.html">Schema Explorer</a>.

		See the <a
			href="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/html/reference/cql_filter.html">Common Query language (CQL) reference</a>
			for a full list of expressions and filters that can be used to define contexts.
	</p>
	<h2>Source schema contexts</h2>
	<p>Types of contexts that can be defined on the source schema.</p>
	<h3>Adding a condition context to a type</h3>
	<p>
		Select the type, right click and choose <i>Add condition context</i>
		from the context menu.
	</p>
	<div>
		<img src="images/context_type_condition_update.png" class="fit">
	</div>
	<p>Then you have to define the condition for the context. It is
		applied to instances of the selected type.</p>
	<div>
		<img src="images/type_filter_update.png" class="fit">
	</div>

	<h3>Adding a condition context to a property</h3>
	<p>
		Adding a condition context to a property works similar to adding a
		condition context to a type, but the condition is applied not on
		instances but on property values. The value of the property can be
		referenced in the condition by
		<code>value</code>
		, properties of the value may also be referenced. You can
		reference the parent of the value through the term
		<code>parent</code>
		.
	</p>
	<div>
		<img src="images/property_filter_update.png" class="fit">
	</div>

	<h3>Conditions from occurring values</h3>
	<p>
		You can easily create conditions on types or properties based on the values
		found in the loaded source data.<br> To view the values in the source data, navigate to the schema
		element which contains values in the <i>Schema explorer</i> and select the <i>Occurring values</i> tab
		in the <i>Properties</i> view. Click the icon with arrows to load the unique values occurring in the data. When doing data analysis based
		on the <i>Occurring values</i> in the <i>Properties</i> view, you can
		create conditions on the corresponding schema elements with just
		one click.
	</p>
	<div>
		<img src="images/occurring_values_condition_update.png" class="fit">
	</div>

	<h3>Adding an index context to a property</h3>
	<p>Select the property you want to add an index context to, right click and choose <i>Add index context</i>
		from the context menu. A new index context will be created, with the first index not yet present.</p>
	<div>
		<img src="images/context_index_update.png" class="fit">
	</div>

	<h2>Target schema contexts</h2>
	<p>Types of contexts that can be defined on the target schema.</p>
	<h3>Adding an instance context</h3>
	<p>Select the property of which you need an additional instance for your mapping, right click and choose <i>Add instance context</i>
		from the context menu to create a new instance of the property.</p>
	<div>
		<img src="images/context_instance_update.png" class="fit">
	</div>

	<br>
	<!-- related concepts: schema -->
	<div>
		<br> <img
			src="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/images/ngrelc.png">
		<p>
			<a href="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/html/concepts/what_is_schema.html">What is a Schema?</a>
		</p>
		<p>
			<a href="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/html/concepts/contexts.html">Contexts</a>
		</p>
	</div>

	<!-- related reference: CQL filter -->
	<div>
		<br> <img
			src="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/images/ngrelr.png">
		<p>
			<a href="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/html/reference/cql_filter.html">CQL Filter</a>
		</p>
	</div>
</body>
</html>
