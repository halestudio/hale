<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Contexts</title>
</head>
<body>
	<h1>Contexts</h1>
	<p>A context can be defined on a schema element to restrict its
		domain of validity to certain instances or property values. This means
		mapping cells defined on contexts are not generally in effect, but
		only on certain conditions, in a certain context.</p>
	<p>As an example, you can use contexts to express a relation like
		this:</p>
	<p class="Note">
		The type <strong>Product</strong> in the source schema is the same as
		the type <strong>Shirt</strong> in the target schema if its property <strong>type</strong>
		has the value 'shirt'.
	</p>
	<p>
		This example can be realised, if a <i>condition context</i> is created
		for the type <i>Product</i>, with the condition
		<code>type = 'shirt'</code>
		, and a <a
			href="PLUGINS_ROOT/eu.esdihumboldt.cst.doc.functions/functions/eu.esdihumboldt.hale.align.retype.html">Retype</a>
		relation is created between the defined <i>Product</i> context and the
		<i>Shirt</i> type.
		Contexts are defined using expressions and filters in <a
			href="plugins/eu.esdihumboldt.hale.doc.user/html/reference/cql_filter.html">Common Query language (CQL)</a>.
	</p>

	<h2>Source schema contexts</h2>
	<p>Types of contexts that can be defined on the source schema.</p>
	<h4>Condition context</h4>
	<p>A condition context defines a condition on a type or property,
		that is evaluated on the instance or property value respectively. Only
		if the condition is fulfilled, an associated mapping takes effect.</p>
	<h4>Index context</h4>
	<p>An index context can only be defined on properties that may
		occur multiple times. It specifies an index, which references a
		certain property value, e.g. the index zero referencing the first
		property value, the index one the second, etc.</p>
	<p>A mapping associated to an index context only takes effect if an
		instance has a property value with the specified index.</p>

	<h2>Target schema contexts</h2>
	<p>Types of contexts that can be defined on the target schema.</p>
	<h4>Instance context</h4>
	<p>An instance context can similar to an index context only be
		defined on properties that may occur multiple times. It represents an
		additional property instance that a mapping can use as a target, e.g.
		if the same target property is to be populated from the source in
		different ways.</p>

	<h2>Example projects featuring contexts</h2>
	<ul>
		<li><p>
				<a class="command-link"
					href='javascript:liveAction("eu.esdihumboldt.hale.ui.firststeps", "eu.esdihumboldt.hale.ui.firststeps.LoadProjectAction",
	"false||/projects/typefilter/t1t2.halex||bundle||eu.esdihumboldt.hale.doc.user")'><img
					src="PLUGINS_ROOT/org.eclipse.help/command_link.png"
					alt="command link">Type condition context example</a>
			</p>
			<p>
				Simple example project demonstrating the use of filters on source
				types.<br>The source type <i>item</i> is mapped to two
				different target types <i>shirt</i> and <i>hat</i>, according to the
				value of the property <i>type</i>.
			</p><br></li>
		<li><p>
				<a class="command-link"
					href='javascript:liveAction("eu.esdihumboldt.hale.ui.firststeps", "eu.esdihumboldt.hale.ui.firststeps.LoadProjectAction",
	"false||/projects/propertyfilter/t1t2.halex||bundle||eu.esdihumboldt.hale.doc.user")'><img
					src="PLUGINS_ROOT/org.eclipse.help/command_link.png"
					alt="command link">Property condition context example</a>
			</p>
			<p>Simple example project that demonstrates how a condition on a
				source property can be used to map a source property to different
				target properties depending on its value.</p><br></li>
		<li><p>
				<a class="command-link"
					href='javascript:liveAction("eu.esdihumboldt.hale.ui.firststeps", "eu.esdihumboldt.hale.ui.firststeps.LoadProjectAction",
	"false||/projects/indexcontext2/t1t2.halex||bundle||eu.esdihumboldt.hale.doc.user")'><img
					src="PLUGINS_ROOT/org.eclipse.help/command_link.png"
					alt="command link">Index context example</a>
			</p>
			<p>
				Small example project demonstrating the use of an index context for
				source properties.<br>In the source type <i>placeNames</i> the
				information on the name language is given only implicitly through
				the name order. The first name is in German, the second in English,
				the third in Italian.In the target type <i>explicitNames</i> there
				are explicit name properties for each language defined.
			</p></li>
	</ul>

	<br>
	<!-- related concepts: instance, alignment, schema -->
	<div>
		<br> <img
			src="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/images/ngrelc.png">
		<p>
			<a
				href="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/html/concepts/what_is_schema.html">What
				is a Schema?</a>
		</p>
		<p>
			<a
				href="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/html/concepts/what_is_instance.html">What
				is an Instance?</a>
		</p>
		<p>
			<a
				href="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/html/concepts/what_is_alignment.html">What
				is an Alignment?</a>
		</p>
	</div>

	<!-- related tasks: define a context -->
	<div>
		<br> <img
			src="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/images/ngrelt.png">
		<p>
			<a
				href="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/html/tasks/schema/define_context.html">Defining
				contexts on schema elements</a>
		</p>
	</div>

	<!-- related reference: schema elements -->
	<div>
		<br> <img
			src="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/images/ngrelr.png">
		<p>
			<a
				href="PLUGINS_ROOT/eu.esdihumboldt.hale.doc.user/html/reference/schema_elements.html">Schema
				elements</a>
		</p>
	</div>
</body>
</html>
